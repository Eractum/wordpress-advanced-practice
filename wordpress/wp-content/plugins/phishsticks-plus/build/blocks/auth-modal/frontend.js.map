{"version":3,"file":"blocks/auth-modal/frontend.js","mappings":"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","sources":["webpack://phishsticks-plus/webpack/bootstrap","webpack://phishsticks-plus/webpack/runtime/make namespace object","webpack://phishsticks-plus/./src/blocks/auth-modal/frontend.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","document.addEventListener('DOMContentLoaded', () => {\n    //Opening-Closing Auth Modal\n    const openModalBtn = document.querySelectorAll('.open-modal');\n    const modalEl = document.querySelector('.wp-block-phishsticks-plus-auth-modal');\n    const modalCloseEl = document.querySelectorAll('.modal-overlay, .modal-btn-close');\n\n    openModalBtn.forEach(el => {\n        el.addEventListener('click', event => {\n           event.preventDefault();\n\n           modalEl.classList.add('modal-show');\n        });\n    });\n\n    modalCloseEl.forEach(el => {\n        el.addEventListener('click', event => {\n            event.preventDefault();\n\n            modalEl.classList.remove('modal-show');\n        });\n    });\n\n    //Switching SignIn-SignUp Tabs\n    const tabs = document.querySelectorAll('.tabs a');\n    const signinForm = document.querySelector('#signin-tab');\n    const signupForm = document.querySelector('#signup-tab');\n\n    tabs.forEach(tab => {\n        tab.addEventListener('click', event => {\n            event.preventDefault();\n\n            tabs.forEach(currTab => {\n               currTab.classList.remove('active-tab');\n            });\n            event.currentTarget.classList.add('active-tab');\n\n            const activeTab = event.currentTarget.getAttribute('href');\n\n            if(activeTab === '#signin-tab') {\n                signinForm.style.display = 'block';\n                signupForm.style.display = 'none';\n            }\n            else {\n                signinForm.style.display = 'none';\n                signupForm.style.display = 'block';\n            }\n        });\n    });\n\n    //Handling Form Submissions\n        //SignUp\n    if (signupForm !== null) {\n        signupForm.addEventListener('submit', async event => {\n            event.preventDefault();\n\n            const signupFieldset = signupForm.querySelector('fieldset');\n            signupFieldset.setAttribute('disabled', true);\n\n            const signupStatus = signupForm.querySelector('#signup-status');\n            signupStatus.innerHTML = `\n            <div class=\"modal-status modal-status-info\">\n                Please wait! We are creating your account.\n            </div>\n        `\n\n            const formData = {\n                username: signupForm.querySelector('#su-name').value,\n                email: signupForm.querySelector('#su-email').value,\n                password: signupForm.querySelector('#su-password').value,\n            }\n\n            const response = await fetch(up_auth_rest.signup, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(formData)\n            });\n\n            const responseJSON = await response.json()\n            if(responseJSON.status === 2) {\n                signupStatus.innerHTML = `\n                <div class=\"modal-status modal-status-success\">\n                    Success! Your account has been created.\n                </div>\n            `;\n                location.reload();\n            } else {\n                signupFieldset.removeAttribute('disabled');\n                signupStatus.innerHTML = `\n                <div class=\"modal-status modal-status-danger\">\n                    Unable to create account. Please do it better.\n                </div>\n            `;\n            }\n        });\n    }\n        //SignIn\n    if (signinForm !== null) {\n        signinForm.addEventListener('submit', async event => {\n            event.preventDefault();\n\n            const signinFieldset = signinForm.querySelector('fieldset');\n            signinFieldset.setAttribute('disabled', true);\n\n            const signinStatus = signinForm.querySelector('#signin-status');\n            signinStatus.innerHTML = `\n            <div class=\"modal-status modal-status-info\">\n                Please wait! You are being logged in.\n            </div>\n        `\n\n            const formData = {\n                login: signinForm.querySelector('#si-email').value,\n                password: signinForm.querySelector('#si-password').value,\n            }\n\n            const response = await fetch(up_auth_rest.signin, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(formData)\n            });\n\n            const responseJSON = await response.json()\n            if(responseJSON.status === 2) {\n                signinStatus.innerHTML = `\n                <div class=\"modal-status modal-status-success\">\n                    Success! You have been logged in successfully.\n                </div>\n            `;\n                location.reload();\n            } else {\n                signinFieldset.removeAttribute('disabled');\n                signinStatus.innerHTML = `\n                <div class=\"modal-status modal-status-danger\">\n                    Unable to log in. Please do it better.\n                </div>\n            `;\n            }\n        });\n    }\n});\n\n"],"names":["document","addEventListener","openModalBtn","querySelectorAll","modalEl","querySelector","modalCloseEl","forEach","el","event","preventDefault","classList","add","remove","tabs","signinForm","signupForm","tab","currTab","currentTarget","activeTab","getAttribute","style","display","signupFieldset","setAttribute","signupStatus","innerHTML","formData","username","value","email","password","response","fetch","up_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload","removeAttribute","signinFieldset","signinStatus","login","signin"],"sourceRoot":""}